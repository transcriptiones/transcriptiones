{% extends 'base.html' %}

{% block content %}

<div>
    <h4>Meine persönlichen Daten</h4>
    <table class="table table-light">
        <tbody>
            <tr>
                <th scope="row">Benutzername</th>
                <td>{{ user.username }}</td>
            </tr>
            <tr>
                <th scope="row">Vorname</th>
                <td>{{ user.first_name }}</td>
            </tr>
            <tr>
                <th scope="row">Nachname</th>
                <td>{{ user.last_name }}</td>
            </tr>
            <tr>
                <th scope="row">E-Mail-Adresse</th>
                <td>{{ user.email }}</td>
            </tr>
            <tr>
                <th scope="row">Transkriptionen anonym publizieren</th>
                <td>
                    {% if user.anonymous_publication %}
                    Ja
                    {% else %}
                    Nein
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div>
    <h4>Meine Aktivitäten</h4>
    <div class="row border-bottom">
        <div class="col-sm text-left">
            Titel
        </div>
        <div class="col-sm text-left">
            Art des Beitrags
        </div>
        <div class="col-sm text-left">
            Zeitpunkt der Aktivität
        </div>
        <div class="col-sm text-left">
            Änderungen
        </div>
        <div class="col-sm text-left">
            Letzte Änderung am
        </div>
        <div class="col-sm text-left">
            Letzte Änderung durch
        </div>
    </div>
    {% for document in contributions %}
    <a href="{{ document.get_absolute_version_url }}" class="row display-list-element">
        <div class="col-sm text-left">{{ document.title_name }}</div>
        <div class="col-sm text-left">
            {% if document.version_number == 1 %}
            Upload
            {% else %}
            Bearbeitung
            {% endif %}
        </div>
        <div class="col-sm text-left">{{ document.document_utc_add }}</div>
        <div class="col-sm text-left">{{ document.commit_message }}</div>
        <div class="col-sm text-left">{{ document.get_versions.latest.document_utc_add }}</div>
        <div class="col-sm text-left">
            {% if document.get_versions.latest.submitted_by_anonymous %}
            Anonym
            {% else %}
            {{ document.get_versions.latest.submitted_by }}
            {% endif %}
        </div>
    </a>
    {% endfor %}



<div class="pagination">
    <span class="step-links">
        {% if contributions.has_previous %}
        <a href="?page=1">&laquo; first</a>
        <a href="?page={{ contributions.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ contributions.number }} of {{ contributions.paginator.num_pages }}.
        </span>

        {% if contributions.has_next %}
        <a href="?page={{ contributions.next_page_number }}">next</a>
        <a href="?page={{ contributions.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>



<div><a href="{% url 'password_change' %}">Passwort ändern</a></div>
<div><a href="{% url 'user_update' %}">Profil anpassen</a></div>
<div><a href="{% url 'logout' %}">Abmelden</a></div>




{% endblock %}