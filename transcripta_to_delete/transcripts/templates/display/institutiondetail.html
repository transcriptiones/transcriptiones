{% extends "base.html" %}

{% block content %}

<nav>
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'institutionlist' %}">Institutionenliste</a></li>
        <li class="breadcrumb-item active" aria-current="page">{{ institution.institution_name }}</li>
    </ol>
</nav>
<div>
    <h2>{{ institution.institution_name }}</h2>
</div>

<div class="card">
    <div class="card-header" data-toggle="collapse" href="#InstitutionDetails">
        <a class="card-link">Informationen zur Institution</a>
    </div>
    <div id="InstitutionDetails" class="collapse show">
        <div class="card-body">
            <div class="row">
                <div class="col-sm-4">
                    Adresse
                </div>
                <div class="col-sm-8">
                    {{ institution.street }}
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    PLZ / Ort
                </div>
                <div class="col-sm-8">
                    {{ institution.zip_code }} / {{ institution.city }}
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    Land
                </div>
                <div class="col-sm-8">
                    {{ institution.country }}
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    Website
                </div>
                <div class="col-sm-8">
                    <a href="{{ institution.site_url }}" target="_blank">{{ institution.institution_name }}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header" data-toggle="collapse" href="#differentRefNumbers">
        <a class="card-link">Signaturen</a>
    </div>

    <div id="differentRefNumbers" class="collapse show">
        <div class="card-body">
            {% if institution.refnumbers.all %}
            {% for refnumber in institution.refnumbers.all|dictsort:"refnumber_name" %}
            <a href="{{ refnumber.get_absolute_url }}" class="row display-list-element">
                <div class="col-sm-5 text-left">{{ refnumber.refnumber_name }}</div>
                <div class="col-sm-5 text-left">
                    {% if refnumber.refnumber_title %}
                    {{ refnumber.refnumber_title }}
                    {% else %}
                    Ohne Titel
                    {% endif %}
                </div>
                <div class="col-sm-2 text-left">
                    {{ refnumber.documents.count }} Dokument{% if refnumber.documents.count != 1 %}e{% endif %}
                </div>
            </a>
            {% endfor %}
            {% else %}
            <div class="row">
                <div class="col-sm text-left">Dieser Institution sind noch keine Signaturen zugeordnet</div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

{% endblock content %}
